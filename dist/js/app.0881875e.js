(function(e){function t(t){for(var r,c,s=t[0],u=t[1],a=t[2],f=0,d=[];f<s.length;f++)c=s[f],o[c]&&d.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,a||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var a=0;a<s.length;a++)t(s[a]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),o=n.n(r);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Content")],1)},i=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("div",{staticClass:"header"},[n("h1",[e._v("2048")]),n("div",{staticClass:"button"},[n("button",{staticClass:"init-button"},[e._v("\n\t\t\t  Score: "),n("span",[e._v(e._s(e.score))])]),n("button",{staticClass:"init-button",on:{click:e.init}},[e._v("New Game")])])]),n("div",{staticClass:"container"},[e.success?n("div",{staticClass:"mask"},[n("h1",[e._v("You win!")]),n("button",{staticClass:"init-button",on:{click:e.init}},[e._v("Try again")])]):e._e(),e.gameover?n("div",{staticClass:"mask"},[n("h1",[e._v("Game over!")]),n("button",{staticClass:"init-button",on:{click:e.init}},[e._v("Try again")])]):e._e(),n("Background"),n("div",{staticClass:"number-cells"},[n("transition-group",{attrs:{name:"appear"}},e._l(e.numberCells,function(t){return n("div",{key:t.id,staticClass:"number-cell",style:"\n\t\t\t  width: 100px;\n\t\t\t  height: 100px;\n\t\t\t  border-radius: 5px;\n\t\t\t  font-size: 32px;\n\t\t\t  font-weight: bold;\n\t\t\t  line-height: 80px;\n\t\t\t  color: #776e65;\n\t\t\n\t\t\t  position: absolute;\n\t\t\t  z-index: "+t.num+";\n\t\t\t  backgroundColor: "+t.color+";\n\t\t\t  top: "+e.getTop(t)+";\n\t\t\t  left: "+e.getLeft(t)+";\n\t\t\t  ",attrs:{id:"c"+t.id}},[e._v(" "+e._s(t.num)+"\n\t\t\t  ")])}),0)],1)],1)])},s=[],u=n("7618"),a=(n("d25f"),n("55dd"),n("20d6"),n("7514"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"background"},e._l(16,function(e){return n("div",{key:e,staticClass:"grid-cell"})}),0)])}),l=[],f={},d=f,m=(n("760c"),n("2877")),v=Object(m["a"])(d,a,l,!1,null,"bd6ada5a",null),h=v.exports,b={name:"Home",components:{Background:h},data:function(){return{score:0,numberCells:[],color:{2:"#eee4da",4:"#ede0c8",8:"#f2b179",16:"#f59563",32:"#f67c5f",64:"#f65e3b",128:"#edcf72",256:"#edcc61",512:"#0444BF",1024:"#A79674",2048:"#282726",4096:"#280b21",8192:"#281d04"},auxId:0,success:!1,gameover:!1,canMove:!0}},mounted:function(){var e=this;this.init(),document.addEventListener("keyup",function(t){if(e.canMove)switch(t.keyCode){case 38:e.moveUp(),e.success=e.isSuccess(),e.gameover=e.isGameOver();break;case 40:e.moveDown(),e.success=e.isSuccess(),e.gameover=e.isGameOver();break;case 37:e.moveLeft(),e.success=e.isSuccess(),e.gameover=e.isGameOver();break;case 39:e.moveRight(),e.success=e.isSuccess(),e.gameover=e.isGameOver();break}})},methods:{init:function(){this.numberCells.length=0,this.score=0,this.auxId=0,this.success=!1,this.gameover=!1,this.generateOneNumberCell(),this.generateOneNumberCell()},generateOneNumberCell:function(){var e=this;if(!this.isFull()){var t=this.random24(),n={x:this.random0123(),y:this.random0123(),num:t,color:this.color[t],id:this.auxId++},r=function(){return e.getCellByPoint({x:n.x,y:n.y})};while(r())n.x=this.random0123(),n.y=this.random0123();this.numberCells.push(n)}},random24:function(){return Math.random()<=.7?2:4},random0123:function(){return parseInt(4*Math.random())},getCellByPoint:function(e){var t=e.x,n=e.y;return this.numberCells.find(function(e){return e.x===t&&e.y===n})},getTop:function(e){return"".concat(20+120*e.y,"px")},getLeft:function(e){return"".concat(20+120*e.x,"px")},sortByX:function(e,t){return e.x-t.x},sortByY:function(e,t){return e.y-t.y},getIndexById:function(e){return this.numberCells.findIndex(function(t){return t.id===e})},animateMerge:function(e){e.animate([{transform:"scale(0)"},{transform:"scale(1.2)"},{transform:"scale(1)"}],{duration:150}),this.canMove=!0},moveLeft:function(){for(var e=this,t=!1,n=function(n){for(var r=e.numberCells.filter(function(e){return e.y===n}).sort(e.sortByX),o=!1,i=function(n){if(0===n)0!==r[n].x&&(r[n].x=0,t=!0);else if(r[n].num!==r[n-1].num||o)r[n].x!==r[n-1].x+1&&(r[n].x=r[n-1].x+1,t=!0,o=!1);else{r[n].x=r[n-1].x,e.canMove=!1;var i=document.querySelector("#c".concat(r[n].id));i.addEventListener("transitionend",function(){var t=2*r[n].num;r[n-1].num=t,r[n-1].color=e.color[t];var o=document.querySelector("#c".concat(r[n-1].id));e.animateMerge(o),e.numberCells.splice(e.getIndexById(r[n].id),1),r.splice(n,1),n--,e.score+=t},!0),t=!0,o=!0}c=n},c=0;c<r.length;c++)i(c)},r=0;r<4;r++)n(r);t&&this.generateOneNumberCell()},moveRight:function(){for(var e=this,t=!1,n=function(n){for(var r=e.numberCells.filter(function(e){return e.y===n}).sort(e.sortByX),o=!1,i=function(n){if(n===r.length-1)3!==r[n].x&&(r[n].x=3,t=!0);else if(r[n].num!==r[n+1].num||o)r[n].x!==r[n+1].x-1&&(r[n].x=r[n+1].x-1,t=!0,o=!1);else{r[n].x=r[n+1].x,e.canMove=!1;var i=document.querySelector("#c".concat(r[n].id));i.addEventListener("transitionend",function(){var t=2*r[n].num;r[n+1].num=t,r[n+1].color=e.color[t];var o=document.querySelector("#c".concat(r[n+1].id));e.animateMerge(o),e.numberCells.splice(e.getIndexById(r[n].id),1),r.splice(n,1),e.score+=t},!0),t=!0,o=!0}},c=r.length-1;c>=0;c--)i(c)},r=0;r<4;r++)n(r);t&&this.generateOneNumberCell()},moveUp:function(){for(var e=this,t=!1,n=function(n){for(var r=e.numberCells.filter(function(e){return e.x===n}).sort(e.sortByY),o=!1,i=function(n){if(0===n)0!==r[n].y&&(r[n].y=0,t=!0);else if(r[n].num!==r[n-1].num||o)r[n].y!==r[n-1].y+1&&(r[n].y=r[n-1].y+1,t=!0,o=!1);else{r[n].y=r[n-1].y,e.canMove=!1;var i=document.querySelector("#c".concat(r[n].id));i.addEventListener("transitionend",function(){var t=2*r[n].num;r[n-1].num=t,r[n-1].color=e.color[t];var o=document.querySelector("#c".concat(r[n-1].id));e.animateMerge(o),e.numberCells.splice(e.getIndexById(r[n].id),1),r.splice(n,1),n--,e.score+=t},!0),t=!0,o=!0}c=n},c=0;c<r.length;c++)i(c)},r=0;r<4;r++)n(r);t&&this.generateOneNumberCell()},moveDown:function(){for(var e=this,t=!1,n=function(n){for(var r=e.numberCells.filter(function(e){return e.x===n}).sort(e.sortByY),o=!1,i=function(n){if(n===r.length-1)3!==r[n].y&&(r[n].y=3,t=!0);else if(r[n].num!==r[n+1].num||o)r[n].y!==r[n+1].y-1&&(r[n].y=r[n+1].y-1,t=!0,o=!1);else{r[n].y=r[n+1].y,e.canMove=!1;var i=document.querySelector("#c".concat(r[n].id));i.addEventListener("transitionend",function(){var t=2*r[n].num;r[n+1].num=t,r[n+1].color=e.color[t];var o=document.querySelector("#c".concat(r[n+1].id));e.animateMerge(o),e.numberCells.splice(e.getIndexById(r[n].id),1),r.splice(n,1),e.score+=t},!0),t=!0,o=!0}},c=r.length-1;c>=0;c--)i(c)},r=0;r<4;r++)n(r);t&&this.generateOneNumberCell()},isFull:function(){return this.numberCells.length>15},isSuccess:function(){return!!this.numberCells.find(function(e){return 8192===e.num})},isGameOver:function(){var e=this,t=function(){for(var t=function(t){for(var n=e.numberCells.filter(function(e){return e.y===t}).sort(e.sortByX),r=0;r<4;r++){if(t<3&&n[r].num===e.getCellByPoint({x:r,y:t+1}).num)return{v:!1};if(r<3&&n[r].num===n[r+1].num)return{v:!1}}},n=0;n<4;n++){var r=t(n);if("object"===Object(u["a"])(r))return r.v}return!0};return this.isFull()&&t()}}},p=b,y=(n("cf2d"),Object(m["a"])(p,c,s,!1,null,null,null)),g=y.exports,x={name:"app",components:{Content:g}},C=x,_=(n("034f"),Object(m["a"])(C,o,i,!1,null,null,null)),O=_.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(O)}}).$mount("#app")},"64a9":function(e,t,n){},"760c":function(e,t,n){"use strict";var r=n("bbd8"),o=n.n(r);o.a},bbd8:function(e,t,n){},cf2d:function(e,t,n){"use strict";var r=n("d6a8"),o=n.n(r);o.a},d6a8:function(e,t,n){}});
//# sourceMappingURL=app.0881875e.js.map